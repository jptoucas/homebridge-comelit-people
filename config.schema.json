{
  "pluginAlias": "ComelitPeoplePlatform",
  "pluginType": "platform",
  "singular": true,
  "headerDisplay": "Plugin Homebridge pour le syst√®me d'interphonie Comelit Group. Contr√¥lez vos serrures, sonnettes et cam√©ras via l'API Comelit People.",
  "footerDisplay": "üîê Deux m√©thodes d'authentification : (1) Email + Mot de passe (recommand√©) ou (2) Token manuel + Device UUID + Apartment ID",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Nom de la plateforme",
        "type": "string",
        "default": "Comelit People",
        "required": true
      },
      "email": {
        "title": "Email Comelit",
        "type": "string",
        "format": "email",
        "required": true,
        "description": "Votre adresse email Comelit"
      },
      "password": {
        "title": "Mot de passe Comelit",
        "type": "string",
        "required": true,
        "description": "Votre mot de passe Comelit"
      },
      "baseURL": {
        "title": "URL de base de l'API",
        "type": "string",
        "default": "https://api.comelitgroup.com/servicerest",
        "readOnly": true
      },
      "pollInterval": {
        "title": "Intervalle de polling (ms)",
        "type": "integer",
        "default": 5000,
        "minimum": 1000,
        "description": "Intervalle de v√©rification des √©v√©nements de sonnette (en millisecondes)"
      },
      "lockIds": {
        "title": "IDs des serrures",
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Liste des IDs de serrures √† exposer (ex: ['SB100001.1']). Laissez vide pour d√©tecter automatiquement."
      },
      "enableCamera": {
        "title": "Activer la cam√©ra",
        "type": "boolean",
        "default": true,
        "description": "Active le streaming vid√©o WebRTC"
      },
      "ignoredDevices": {
        "title": "Dispositifs ignor√©s",
        "type": "string",
        "default": "Actionneur G√©n√©rique",
        "description": "Noms des dispositifs √† ignorer, s√©par√©s par des virgules (ex: Actionneur G√©n√©rique, Device2)"
      },
      "videoConfig": {
        "title": "Configuration vid√©o",
        "type": "object",
        "properties": {
          "maxWidth": {
            "title": "Largeur maximale",
            "type": "integer",
            "default": 1280,
            "minimum": 320,
            "maximum": 1920
          },
          "maxHeight": {
            "title": "Hauteur maximale",
            "type": "integer",
            "default": 720,
            "minimum": 240,
            "maximum": 1080
          },
          "maxFPS": {
            "title": "FPS maximum",
            "type": "integer",
            "default": 30,
            "minimum": 10,
            "maximum": 60
          },
          "maxBitrate": {
            "title": "Bitrate maximum (kbps)",
            "type": "integer",
            "default": 1000,
            "minimum": 300,
            "maximum": 4000
          },
          "forceMax": {
            "title": "Forcer les valeurs maximales",
            "type": "boolean",
            "default": false
          },
          "vcodec": {
            "title": "Codec vid√©o",
            "type": "string",
            "default": "libx264",
            "enum": ["libx264", "copy"]
          },
          "audio": {
            "title": "Activer l'audio",
            "type": "boolean",
            "default": true
          }
        }
      }
    }
  },
  "layout": [
    {
      "type": "section",
      "title": "üîê Authentification Comelit",
      "items": [
        "name",
        {
          "type": "help",
          "helpvalue": "<p>Le plugin r√©cup√®re automatiquement tous les identifiants n√©cessaires √† partir de votre email et mot de passe.</p>"
        },
        "email",
        "password",
        "baseURL"
    },
    {
      "type": "section",
      "title": "‚öôÔ∏è Configuration",
      "expandable": true,
      "expanded": false,
      "items": [
        "pollInterval",
        "lockIds",
        "enableCamera",
        "ignoredDevices",
        {
          "type": "fieldset",
      "title": "Configuration vid√©o avanc√©e",
      "expandable": true,
      "items": [
        "videoConfig.maxWidth",
        "videoConfig.maxHeight",
        "videoConfig.maxFPS",
        "videoConfig.maxBitrate",
        "videoConfig.forceMax",
        "videoConfig.vcodec",
        "videoConfig.audio"
      ]
    }
  ]
}
